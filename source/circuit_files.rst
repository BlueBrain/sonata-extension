.. Template:
    - *Description*:
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*:
    - *Deprecated*:

Files Involved in a Circuit
===========================

Introduction
~~~~~~~~~~~~

The `BBP`-style circuit and simulation is composed of many different files with
different purposes.  Generally, their location is based off of keys in the
`BlueConfig`.


Locations
~~~~~~~~~

For each heading, the value in the `BlueConfig`/`CircuitConfig` is used to
resolve the file name.

Ex::

    Run Default
    {
        CircuitPath /some/path/           <--- Corresponds to Run.CircuitPath
    }

Means that Run.CircuitConfig:circuit.mvd2 would exist in `/some/path/circuit.mvd2`


.. note:: Essential: `Yes` means that the file cannot be derived from another
    source and is a generated by the `Generated by` step.  If it can be
    generated, how it can be generated is mentioned.

Run.CircuitPath
~~~~~~~~~~~~~~~

circuit.mvd2
    - *Description*:
    - *Format Documentation*: :ref:`mvd2`
    - *Generated by*: BlueBuilder Phase 1
    - *Essential*: Yes
    - *Deprecated*: 2016: In the process of being moved to MVD3

blueBinaryMicrocircuity.bin
    - *Description*: *Conversion of mvd2 to binary format (?)*
    - *Format Documentation*: *To be documented*
    - *Generated by*: BlueBuilder Phase 1
    - *Essential*: Yes
    - *Deprecated*: 2016: Not needed w/ touchdetector that uses MVD3

circuit_mvd2.sqlite
    - *Description*: Conversion of MVD2 file to sqlite DB
    - *Format Documentation*: sqlite tables follow `MVD2` exactly
    - *Generated by*: Created by hand using BluePy or other script
    - *Essential*: No, can be generated from circuit.mvd2 using BluePy
    - *Deprecated*: 2016: In the process of being moved to MVD3

SEGMENT(_index.dat|_index.idx|_payload.dat)
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*: Unknown
    - *Deprecated*:

SOMA(_index.dat|_index.idx|_payload.dat)
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*: Unknown
    - *Deprecated*:

SYNAPSE(_index.dat|_index.idx|_payload.dat)
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*: Unknown
    - *Deprecated*: should be relative to Run.nrnPath


Run.nrnPath
~~~~~~~~~~~

start.target
    - *Description*: ASCII file defining Cell/Comparment targets
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*:
    - *Deprecated*: No

nrn.h5
    - *Description*: List of Synapses in an HDF5 file
    - *Format Documentation*: 1 HDF5 Group per cell, with 1 row per cell with
      19 columns of parameters per synapse. (*To be documented*)
    - *Generated by*:
    - *Essential*: Yes.
    - *Deprecated*: No

nrn_efferent.h5
    - *Description*:
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*: No, can be generated from nrn.h5
    - *Deprecated*:

nrn_positions_efferent.h5
    - *Description*:
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*: No, can be generated from nrn.h5
    - *Deprecated*:

nrn_positions.h5
    - *Description*:
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*: No, can be generated from nrn.h5
    - *Deprecated*:

nrn_summary.h5
    - *Description*:
    - *Format Documentation*:
    - *Generated by*:
    - *Essential*: No, can be generated from nrn.h5
    - *Deprecated*:

start.ncs
    - *Description*: ASCII simulation input file with information on the
      template parameters, This is used by the simulation to get gid/metype
      associations.
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*:
    - *Deprecated*: No

SYNAPSE(_index.dat|_index.idx|_payload.dat)
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*:
    - *Deprecated*:


Run.OutputRoot
~~~~~~~~~~~~~~

out.dat
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*:
    - *Deprecated*:

soma.bbp
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*: Simulation, *if* there is a report
    - *Essential*:
    - *Deprecated*:

soma.h5
    - *Description*:
    - *Format Documentation*: *To be documented*
    - *Generated by*:
    - *Essential*: Generated from soma.bbp
    - *Deprecated*:
